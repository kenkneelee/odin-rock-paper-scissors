<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fire, Water, Grass</title>
    <link rel="stylesheet" href="styles/style.css">
</head>

<body>
    <div class="main">
        <h1 id="demo">Choose your Pokémon!</h1>
        <div class="container">
            <div class="ballcontainer">
                <input type="image" src="images/pokeball_closed.png" class="closedball" alt="pixelated pokeball" id="rock"
                    >
                <input type="image" src="images/pokeball_closed.png" class="closedball" alt="pixelated pokeball" id="paper"
                    >
                <input type="image" src="images/pokeball_closed.png" class="closedball" alt="pixelated pokeball" id="scissors"
                    >
            </div>
            <div id="text">Choose carefully! <br> ...</div>
        </div>
        <div class="scorecontainer">
        <h2 class="scoretext">Score:</h2>
            <div class="score">1</div>
        </div>
    </div>
</body>

<script>
const inputs = document.querySelectorAll('input');

inputs.forEach((input) => {     //for each button, add event listeners
    input.addEventListener('click',()=>{
        alert(input.id);
        console.log(playRound(input.id, computerPlay()));
    })
    input.addEventListener('mouseover',()=>{
        input.src="images/pokeball_open.png"
    })
    input.addEventListener('mouseout',()=>{
        input.src="images/pokeball_closed.png"
    })
    ;
}
);



let playerSelect;
let computerSelect;
let winCounter = 0;

/* randomly returns rock, paper, or scissors */
function computerPlay() {   
    let computerPick = Math.floor(Math.random() * 3) + 1;
    if (computerPick == 1) {
        return "rock";
    }
    else if (computerPick == 2) {
        return "paper";
    }
    else if (computerPick == 3) {
        return "scissors";
    }
}
/* function to play single round using 2 inputs:  playerselection, computerselection
returns string in format "You lose! Paper beats Rock"
case insensitive */

function playRound(playerSelect, computerSelect) {
    //playerSelect = prompt("Rock, Paper, or Scissors?").toLowerCase(); /* ask user for their selection */
    
    //computerSelect = computerPlay();
    console.log("You picked " + playerSelect + ". Computer picked " + computerSelect + "."); /* test line */

    if (playerSelect == "rock") {
        if (computerSelect == "rock") {
            return "Tie game!";
        }
        else if (computerSelect == "paper") {
            return "You lose. " + capitalize(computerSelect) + " beats " + playerSelect + ".";
        }
        else if (computerSelect == "scissors") {
            winCounter++;
            return "You win! " + capitalize(playerSelect) + " beats " + computerSelect + ".";
        }
    }
    else if (playerSelect== "paper") {
        if (computerSelect == "rock") {
            winCounter++;
            return "You win! "  + capitalize(playerSelect) + " beats " + computerSelect + ".";
        }
        else if (computerSelect == "paper") {
            return "Tie game!";
        }
        else if (computerSelect == "scissors") {
            return "You lose. "  + capitalize(computerSelect) + " beats " + playerSelect + ".";
        }
    }
    else if (playerSelect=="scissors"){
        if (computerSelect == "rock") {
            return "You lose. "  + capitalize(computerSelect) + " beats " + playerSelect + ".";
        }
        else if (computerSelect == "paper") {
            winCounter++;
            return "You win! "  + capitalize(playerSelect) + " beats " + computerSelect + ".";
        }
        else if (computerSelect == "scissors") {
            return "Tie game!";
        }
    }
    else {
        return "Invalid option!";
    }
}



/* function to capitalize first letter in a string */
function capitalize(string) {
    return string[0].toUpperCase()+ string.slice(1);
}


/*    var i = 0;
    var txt = 'Choose your Pokémon!'; 
    var speed = 100; 

    function typeWriterTitle() {
        if (i < txt.length) {
            document.getElementById("demo").innerHTML += txt.charAt(i);
            i++;
            setTimeout(typeWriterTitle, speed);
        }
    }

    document.onload = typeWriterTitle();
*/
</script>

</html>